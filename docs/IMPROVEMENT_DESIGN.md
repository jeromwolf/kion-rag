# Improvement ì•Œê³ ë¦¬ì¦˜ ìƒì„¸ ì„¤ê³„

> í”¼ë“œë°± ê¸°ë°˜ ì§€ì†ì  ê°œì„  ì‹œìŠ¤í…œ

## ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Improvement Pipeline                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   ì‚¬ìš©ì í”¼ë“œë°±                                                   â”‚
â”‚   ğŸ‘ ë§ìŒ / ğŸ‘ ì•ˆë§ìŒ                                             â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚   â”‚ í”¼ë“œë°± ìˆ˜ì§‘  â”‚ feedback_logs í…Œì´ë¸”                           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚         â”‚                                                        â”‚
â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚         â–¼              â–¼              â–¼              â–¼          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ ì„ë² ë”©   â”‚   â”‚ ë£° ê°œì„   â”‚   â”‚ í”„ë¡¬í”„íŠ¸ â”‚   â”‚ ëŒ€ì‹œë³´ë“œ â”‚    â”‚
â”‚   â”‚ íŠœë‹     â”‚   â”‚          â”‚   â”‚ A/B      â”‚   â”‚ ë¶„ì„     â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. í”¼ë“œë°± ìˆ˜ì§‘ ì‹œìŠ¤í…œ

### 1.1 í”¼ë“œë°± ë°ì´í„° êµ¬ì¡°

```json
{
  "feedback_id": "FB-20251230-001",
  "session_id": "sess_abc123",
  "timestamp": "2025-12-30T07:00:00Z",
  "query": "6ì¸ì¹˜ GaN MOCVD ì¥ë¹„ ì¶”ì²œí•´ì¤˜",
  "parsed_query": {
    "wafer_sizes": ["6 inch"],
    "materials": ["GaN"],
    "categories": ["MOCVD"],
    "mapped_categories": ["MOCVD", "MBE"]
  },
  "recommendations": [
    {
      "equipment_id": "KION-009",
      "name": "MOCVD System A",
      "rank": 1,
      "score": 0.92
    },
    {
      "equipment_id": "KION-015",
      "name": "MOCVD System B",
      "rank": 2,
      "score": 0.85
    }
  ],
  "feedback": {
    "type": "negative",  // positive | negative
    "selected_equipment": null,  // ì‹¤ì œ ì„ íƒí•œ ì¥ë¹„ (ìˆìœ¼ë©´)
    "reason": "ì›í•˜ëŠ” ì¥ë¹„ê°€ ì—†ìŒ",  // ì„ íƒì 
    "expected_equipment": "KION-022"  // ì‚¬ìš©ìê°€ ì›í–ˆë˜ ì¥ë¹„ (ìˆìœ¼ë©´)
  },
  "context": {
    "user_institution": "NNFC",
    "response_time_ms": 1250
  }
}
```

### 1.2 í”¼ë“œë°± API

```python
# POST /feedback
{
  "session_id": "sess_abc123",
  "query": "6ì¸ì¹˜ GaN MOCVD ì¥ë¹„",
  "recommendations": ["KION-009", "KION-015"],
  "feedback_type": "negative",  # positive | negative
  "selected_equipment": "KION-022",  # optional
  "reason": "ìŠ¤í™ì´ ì•ˆë§ìŒ"  # optional
}

# Response
{
  "feedback_id": "FB-20251230-001",
  "status": "recorded",
  "message": "í”¼ë“œë°±ì´ ê¸°ë¡ë˜ì—ˆìŠµë‹ˆë‹¤. ê°œì„ ì— í™œìš©ë©ë‹ˆë‹¤."
}
```

### 1.3 í”¼ë“œë°± ì €ì¥ì†Œ

```sql
CREATE TABLE feedback_logs (
    id              SERIAL PRIMARY KEY,
    feedback_id     VARCHAR(50) UNIQUE NOT NULL,
    session_id      VARCHAR(100),
    timestamp       TIMESTAMP DEFAULT NOW(),

    -- ì¿¼ë¦¬ ì •ë³´
    query_text      TEXT NOT NULL,
    parsed_query    JSONB,

    -- ì¶”ì²œ ê²°ê³¼
    recommendations JSONB,  -- [{equipment_id, rank, score}, ...]

    -- í”¼ë“œë°±
    feedback_type   VARCHAR(20) NOT NULL,  -- positive, negative
    selected_equipment VARCHAR(50),
    expected_equipment VARCHAR(50),
    reason          TEXT,

    -- ì»¨í…ìŠ¤íŠ¸
    user_institution VARCHAR(50),
    response_time_ms INTEGER,

    -- ë¶„ì„ìš©
    is_analyzed     BOOLEAN DEFAULT FALSE,
    analyzed_at     TIMESTAMP
);

CREATE INDEX idx_feedback_type ON feedback_logs(feedback_type);
CREATE INDEX idx_feedback_timestamp ON feedback_logs(timestamp);
```

---

## 2. ì„ë² ë”© ëª¨ë¸ ê°œì„  (í–¥í›„ ê³ ë ¤ì‚¬í•­)

> âš ï¸ **Note**: RAG ì‹œìŠ¤í…œì—ì„œ LLMì€ í•™ìŠµí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” **ì„ë² ë”© ëª¨ë¸**ì˜ Fine-tuningì— ëŒ€í•œ ë‚´ìš©ì´ë©°, ì¶©ë¶„í•œ ì˜¤ë‹µ ë°ì´í„° ì¶•ì  í›„ ê²€í† í•  ì‚¬í•­ì…ë‹ˆë‹¤. PoC ë‹¨ê³„ì—ì„œëŠ” ë£° ê°œì„ ê³¼ í”„ë¡¬í”„íŠ¸ A/B í…ŒìŠ¤íŠ¸ì— ì§‘ì¤‘í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

### 2.1 ëª©ì 
- ğŸ‘ í”¼ë“œë°±ì´ ë§ì€ ì¿¼ë¦¬-ì¥ë¹„ ìŒ ë¶„ì„
- Hard Negative Miningìœ¼ë¡œ í•™ìŠµ ë°ì´í„° êµ¬ì¶•
- ì„ë² ë”© ëª¨ë¸ Fine-tuningìœ¼ë¡œ ê²€ìƒ‰ ì •í™•ë„ í–¥ìƒ (ì¥ê¸° ê³¼ì œ)

### 2.2 íŒŒì´í”„ë¼ì¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ì„ë² ë”© íŠœë‹ íŒŒì´í”„ë¼ì¸                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. ì˜¤ë‹µ ìˆ˜ì§‘ (ì›” 1íšŒ ë˜ëŠ” Nê±´ ëˆ„ì )                              â”‚
â”‚     â””â”€ negative í”¼ë“œë°± ì¤‘ expected_equipmentê°€ ìˆëŠ” ì¼€ì´ìŠ¤        â”‚
â”‚                                                                  â”‚
â”‚  2. Hard Negative Mining                                         â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚ Query: "6ì¸ì¹˜ GaN MOCVD"                            â”‚      â”‚
â”‚     â”‚ Positive: KION-022 (ì‚¬ìš©ìê°€ ì›í•œ ì¥ë¹„)             â”‚      â”‚
â”‚     â”‚ Hard Negative: KION-009 (ì¶”ì²œëì§€ë§Œ í‹€ë¦° ì¥ë¹„)      â”‚      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                  â”‚
â”‚  3. Contrastive Learning ë°ì´í„°ì…‹ êµ¬ì¶•                           â”‚
â”‚     â””â”€ (query, positive, negative) triplets                     â”‚
â”‚                                                                  â”‚
â”‚  4. Fine-tuning                                                  â”‚
â”‚     â””â”€ sentence-transformers ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©                     â”‚
â”‚     â””â”€ MultipleNegativesRankingLoss                             â”‚
â”‚                                                                  â”‚
â”‚  5. í‰ê°€ ë° ë°°í¬                                                  â”‚
â”‚     â””â”€ Recall@K ë¹„êµ (ê¸°ì¡´ vs íŠœë‹)                              â”‚
â”‚     â””â”€ A/B í…ŒìŠ¤íŠ¸ í›„ ì ìš©                                        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 íŠ¸ë¦¬ê±° ì¡°ê±´

| ì¡°ê±´ | ê°’ | ì„¤ëª… |
|------|-----|------|
| ìµœì†Œ ì˜¤ë‹µ ìˆ˜ | 100ê±´ | Fine-tuning ì‹œì‘ ìµœì†Œ ë°ì´í„° |
| ì£¼ê¸° | ì›” 1íšŒ | ì •ê¸° íŠœë‹ ìŠ¤ì¼€ì¤„ |
| ê¸´ê¸‰ íŠ¸ë¦¬ê±° | Recall 5% í•˜ë½ | ì„±ëŠ¥ ì €í•˜ ì‹œ ì¦‰ì‹œ íŠœë‹ |

### 2.4 êµ¬í˜„ ì½”ë“œ (ì˜ˆì‹œ)

```python
# app/improvement/embedding_tuner.py

from sentence_transformers import SentenceTransformer, InputExample, losses
from torch.utils.data import DataLoader

class EmbeddingTuner:
    def __init__(self, base_model: str = "intfloat/multilingual-e5-large"):
        self.model = SentenceTransformer(base_model)

    def collect_hard_negatives(self, feedback_logs: list) -> list:
        """
        ì˜¤ë‹µ í”¼ë“œë°±ì—ì„œ Hard Negative ì¶”ì¶œ

        Returns:
            List of (query, positive_equip, negative_equip) triplets
        """
        triplets = []

        for log in feedback_logs:
            if log['feedback_type'] != 'negative':
                continue
            if not log.get('expected_equipment'):
                continue

            query = log['query_text']
            positive = log['expected_equipment']  # ì‚¬ìš©ìê°€ ì›í•œ ì¥ë¹„

            # ì¶”ì²œëì§€ë§Œ í‹€ë¦° ì¥ë¹„ë“¤ = Hard Negatives
            for rec in log['recommendations']:
                if rec['equipment_id'] != positive:
                    triplets.append({
                        'query': query,
                        'positive': positive,
                        'negative': rec['equipment_id']
                    })

        return triplets

    def create_training_data(self, triplets: list, equipment_db: dict) -> list:
        """
        Tripletsë¥¼ í•™ìŠµ ë°ì´í„°ë¡œ ë³€í™˜
        """
        examples = []

        for t in triplets:
            query_text = t['query']
            pos_text = equipment_db[t['positive']]['description']
            neg_text = equipment_db[t['negative']]['description']

            examples.append(InputExample(
                texts=[query_text, pos_text, neg_text]
            ))

        return examples

    def fine_tune(self, examples: list, epochs: int = 3):
        """
        Contrastive Learningìœ¼ë¡œ Fine-tuning
        """
        train_dataloader = DataLoader(examples, shuffle=True, batch_size=16)
        train_loss = losses.MultipleNegativesRankingLoss(self.model)

        self.model.fit(
            train_objectives=[(train_dataloader, train_loss)],
            epochs=epochs,
            warmup_steps=100,
            output_path='./models/tuned_embedding'
        )

    def evaluate(self, test_queries: list, ground_truth: dict) -> dict:
        """
        Recall@K í‰ê°€
        """
        # í‰ê°€ ë¡œì§
        pass
```

---

## 3. ë£° ê°œì„  ì•Œê³ ë¦¬ì¦˜

### 3.1 ëª©ì 
- ì˜¤ë‹µ íŒ¨í„´ ë¶„ì„ìœ¼ë¡œ ëˆ„ë½ëœ ê³µì •-ì¥ë¹„ ë§¤í•‘ ë°œê²¬
- ê´€ë¦¬ìì—ê²Œ ë£° ì¶”ê°€ ì œì•ˆ
- ë°˜ìë™ ë§¤í•‘ í•™ìŠµ

### 3.2 íŒŒì´í”„ë¼ì¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë£° ê°œì„  íŒŒì´í”„ë¼ì¸                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. ì˜¤ë‹µ íŒ¨í„´ ë¶„ì„                                                â”‚
â”‚     â””â”€ ì¿¼ë¦¬ í‚¤ì›Œë“œ vs ì •ë‹µ ì¥ë¹„ ì¹´í…Œê³ ë¦¬ ë¹„êµ                     â”‚
â”‚                                                                  â”‚
â”‚  2. ëˆ„ë½ ë§¤í•‘ ë°œê²¬                                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚ ì¿¼ë¦¬: "ë°•ë§‰ ì½”íŒ… ì¥ë¹„"                              â”‚      â”‚
â”‚     â”‚ í˜„ì¬ ë§¤í•‘: (ì—†ìŒ)                                   â”‚      â”‚
â”‚     â”‚ ì •ë‹µ ì¥ë¹„: Sputter (ì¹´í…Œê³ ë¦¬)                       â”‚      â”‚
â”‚     â”‚ â†’ ì œì•ˆ: "ë°•ë§‰ ì½”íŒ…" â†’ ["Sputter", "E-beam"]        â”‚      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                  â”‚
â”‚  3. ì‹ ë¢°ë„ ê³„ì‚°                                                   â”‚
â”‚     â””â”€ ë™ì¼ íŒ¨í„´ ë°œìƒ íšŸìˆ˜ / ì „ì²´ ì˜¤ë‹µ ìˆ˜                        â”‚
â”‚                                                                  â”‚
â”‚  4. ê´€ë¦¬ì ì œì•ˆ                                                   â”‚
â”‚     â””â”€ ì‹ ë¢°ë„ 70% ì´ìƒ â†’ ìë™ ì œì•ˆ                               â”‚
â”‚     â””â”€ ê´€ë¦¬ì ìŠ¹ì¸ â†’ ë§¤í•‘ ì¶”ê°€                                   â”‚
â”‚                                                                  â”‚
â”‚  5. ìë™ ì ìš© (ì„ íƒì )                                            â”‚
â”‚     â””â”€ ì‹ ë¢°ë„ 90% ì´ìƒ + 10ê±´ ì´ìƒ â†’ ìë™ ì ìš©                   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ì œì•ˆ ë°ì´í„° êµ¬ì¡°

```json
{
  "suggestion_id": "SUG-20251230-001",
  "type": "process_mapping",
  "status": "pending",  // pending, approved, rejected
  "created_at": "2025-12-30T07:00:00Z",

  "suggestion": {
    "keyword": "ë°•ë§‰ ì½”íŒ…",
    "keyword_en": "thin film coating",
    "categories": ["Sputter", "E-beam Evaporator"],
    "description": "ë°•ë§‰ ì½”íŒ… ê³µì •"
  },

  "evidence": {
    "total_cases": 15,
    "confidence": 0.85,
    "sample_queries": [
      "ë°•ë§‰ ì½”íŒ… ì¥ë¹„ ì¶”ì²œ",
      "ì½”íŒ…ìš© ìŠ¤í¼í„° ì¥ë¹„"
    ],
    "sample_correct_equipments": ["KION-005", "KION-012"]
  },

  "admin_action": {
    "action": null,  // approve, reject, modify
    "modified_by": null,
    "modified_at": null,
    "comment": null
  }
}
```

### 3.4 êµ¬í˜„ ì½”ë“œ (ì˜ˆì‹œ)

```python
# app/improvement/rule_improver.py

from collections import Counter
from typing import List, Dict

class RuleImprover:
    def __init__(self, policy_manager):
        self.policy_manager = policy_manager
        self.min_confidence = 0.7
        self.min_cases = 5

    def analyze_negative_feedback(self, feedback_logs: list) -> list:
        """
        ì˜¤ë‹µ í”¼ë“œë°± ë¶„ì„í•˜ì—¬ ëˆ„ë½ëœ ë§¤í•‘ ë°œê²¬
        """
        # ì¿¼ë¦¬ í‚¤ì›Œë“œ â†’ ì •ë‹µ ì¹´í…Œê³ ë¦¬ ë§¤í•‘ ìˆ˜ì§‘
        keyword_to_category = {}

        for log in feedback_logs:
            if log['feedback_type'] != 'negative':
                continue

            expected_equip = log.get('expected_equipment')
            if not expected_equip:
                continue

            # ì¿¼ë¦¬ì—ì„œ í‚¤ì›Œë“œ ì¶”ì¶œ
            keywords = self._extract_keywords(log['query_text'])

            # ì •ë‹µ ì¥ë¹„ì˜ ì¹´í…Œê³ ë¦¬
            correct_category = self._get_equipment_category(expected_equip)

            for kw in keywords:
                if kw not in keyword_to_category:
                    keyword_to_category[kw] = []
                keyword_to_category[kw].append(correct_category)

        # ê¸°ì¡´ ë§¤í•‘ì— ì—†ëŠ” í‚¤ì›Œë“œ ì°¾ê¸°
        suggestions = []
        existing_mappings = self.policy_manager.mapper.get_all_mappings()

        for keyword, categories in keyword_to_category.items():
            if keyword.lower() in existing_mappings:
                continue

            # ì¹´í…Œê³ ë¦¬ ë¹ˆë„ ê³„ì‚°
            category_counts = Counter(categories)
            total = len(categories)

            if total < self.min_cases:
                continue

            # ìƒìœ„ ì¹´í…Œê³ ë¦¬ ì¶”ì¶œ
            top_categories = []
            for cat, count in category_counts.most_common(3):
                confidence = count / total
                if confidence >= self.min_confidence:
                    top_categories.append(cat)

            if top_categories:
                suggestions.append({
                    'keyword': keyword,
                    'categories': top_categories,
                    'confidence': category_counts.most_common(1)[0][1] / total,
                    'total_cases': total
                })

        return suggestions

    def _extract_keywords(self, query: str) -> list:
        """ì¿¼ë¦¬ì—ì„œ ê³µì • ê´€ë ¨ í‚¤ì›Œë“œ ì¶”ì¶œ"""
        # ê°„ë‹¨í•œ êµ¬í˜„: 2ê¸€ì ì´ìƒ ë‹¨ì–´
        words = query.split()
        return [w for w in words if len(w) >= 2]

    def _get_equipment_category(self, equipment_id: str) -> str:
        """ì¥ë¹„ IDë¡œ ì¹´í…Œê³ ë¦¬ ì¡°íšŒ"""
        # DB ì¡°íšŒ ë¡œì§
        pass

    def create_suggestion(self, analysis_result: dict) -> dict:
        """ê´€ë¦¬ì ì œì•ˆ ìƒì„±"""
        return {
            'suggestion_id': f"SUG-{datetime.now().strftime('%Y%m%d')}-{uuid4().hex[:6]}",
            'type': 'process_mapping',
            'status': 'pending',
            'suggestion': {
                'keyword': analysis_result['keyword'],
                'categories': analysis_result['categories']
            },
            'evidence': {
                'confidence': analysis_result['confidence'],
                'total_cases': analysis_result['total_cases']
            }
        }
```

---

## 4. í”„ë¡¬í”„íŠ¸ A/B í…ŒìŠ¤íŠ¸

### 4.1 ëª©ì 
- ì—¬ëŸ¬ í”„ë¡¬í”„íŠ¸ ë²„ì „ì˜ ì„±ëŠ¥ ë¹„êµ
- ë°ì´í„° ê¸°ë°˜ í”„ë¡¬í”„íŠ¸ ìµœì í™”
- ìë™ ìš°ìŠ¹ ë²„ì „ ì ìš©

### 4.2 íŒŒì´í”„ë¼ì¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  í”„ë¡¬í”„íŠ¸ A/B í…ŒìŠ¤íŠ¸ íŒŒì´í”„ë¼ì¸                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. í”„ë¡¬í”„íŠ¸ ë²„ì „ ê´€ë¦¬                                            â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚ Version A (Control): ê¸°ì¡´ í”„ë¡¬í”„íŠ¸              â”‚         â”‚
â”‚     â”‚ Version B (Test): ìƒˆ í”„ë¡¬í”„íŠ¸                   â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                  â”‚
â”‚  2. íŠ¸ë˜í”½ ë¶„ë°°                                                   â”‚
â”‚     â””â”€ 50:50 ë˜ëŠ” 90:10 (ì‹ ê·œ ë²„ì „ ì†ŒëŸ‰ í…ŒìŠ¤íŠ¸)                  â”‚
â”‚     â””â”€ session_id ê¸°ë°˜ ì¼ê´€ëœ í• ë‹¹                               â”‚
â”‚                                                                  â”‚
â”‚  3. ë©”íŠ¸ë¦­ ìˆ˜ì§‘                                                   â”‚
â”‚     â”œâ”€ ê¸ì • í”¼ë“œë°± ë¹„ìœ¨                                          â”‚
â”‚     â”œâ”€ ì¥ë¹„ ì„ íƒë¥  (ì¶”ì²œ â†’ ì‹¤ì œ ì˜ˆì•½)                            â”‚
â”‚     â”œâ”€ ì‘ë‹µ ì‹œê°„                                                 â”‚
â”‚     â””â”€ ì‚¬ìš©ì ì¬ì§ˆë¬¸ ë¹„ìœ¨                                        â”‚
â”‚                                                                  â”‚
â”‚  4. í†µê³„ì  ìœ ì˜ì„± ê²€ì •                                            â”‚
â”‚     â””â”€ Chi-squared test (p < 0.05)                              â”‚
â”‚     â””â”€ ìµœì†Œ ìƒ˜í”Œ ìˆ˜: ê° ê·¸ë£¹ 100ê±´                               â”‚
â”‚                                                                  â”‚
â”‚  5. ìë™ ì ìš©                                                     â”‚
â”‚     â””â”€ ìœ ì˜ë¯¸í•œ ì°¨ì´ + ì‹ ê·œ ë²„ì „ ìš°ìŠ¹ â†’ ìë™ ë¡¤ì•„ì›ƒ              â”‚
â”‚     â””â”€ ì‹ ê·œ ë²„ì „ íŒ¨ë°° â†’ í…ŒìŠ¤íŠ¸ ì¢…ë£Œ, ê¸°ì¡´ ìœ ì§€                   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 í”„ë¡¬í”„íŠ¸ ë²„ì „ ê´€ë¦¬

```json
{
  "prompt_versions": [
    {
      "version_id": "v1.0.0",
      "name": "baseline",
      "status": "active",
      "traffic_weight": 50,
      "created_at": "2025-12-01",
      "prompt_file": "prompts/recommendation_v1.txt",
      "metrics": {
        "positive_rate": 0.72,
        "selection_rate": 0.45,
        "avg_response_time": 1.2
      }
    },
    {
      "version_id": "v1.1.0",
      "name": "detailed_specs",
      "status": "testing",
      "traffic_weight": 50,
      "created_at": "2025-12-25",
      "prompt_file": "prompts/recommendation_v1.1.txt",
      "changes": "ì¥ë¹„ ìŠ¤í™ ìƒì„¸ ì„¤ëª… ì¶”ê°€",
      "metrics": {
        "positive_rate": 0.78,
        "selection_rate": 0.52,
        "avg_response_time": 1.4
      }
    }
  ],
  "experiment": {
    "experiment_id": "EXP-001",
    "start_date": "2025-12-25",
    "end_date": null,
    "min_samples_per_group": 100,
    "current_samples": {
      "v1.0.0": 85,
      "v1.1.0": 82
    }
  }
}
```

### 4.4 êµ¬í˜„ ì½”ë“œ (ì˜ˆì‹œ)

```python
# app/improvement/prompt_ab_test.py

import hashlib
from scipy import stats
from typing import Optional

class PromptABTest:
    def __init__(self, config_path: str):
        self.config = self._load_config(config_path)
        self.min_samples = 100
        self.significance_level = 0.05

    def get_prompt_version(self, session_id: str) -> str:
        """
        ì„¸ì…˜ ID ê¸°ë°˜ìœ¼ë¡œ ì¼ê´€ëœ í”„ë¡¬í”„íŠ¸ ë²„ì „ í• ë‹¹
        """
        # í•´ì‹œ ê¸°ë°˜ í• ë‹¹ (ê°™ì€ ì„¸ì…˜ì€ í•­ìƒ ê°™ì€ ë²„ì „)
        hash_value = int(hashlib.md5(session_id.encode()).hexdigest(), 16)

        total_weight = sum(v['traffic_weight'] for v in self.config['prompt_versions'])
        threshold = hash_value % total_weight

        cumulative = 0
        for version in self.config['prompt_versions']:
            cumulative += version['traffic_weight']
            if threshold < cumulative:
                return version['version_id']

        return self.config['prompt_versions'][0]['version_id']

    def record_result(self, version_id: str, session_id: str,
                      feedback_type: str, selected: bool):
        """
        A/B í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê¸°ë¡
        """
        # DBì— ê²°ê³¼ ì €ì¥
        pass

    def check_significance(self) -> Optional[dict]:
        """
        í†µê³„ì  ìœ ì˜ì„± ê²€ì •
        """
        versions = self.config['prompt_versions']
        if len(versions) < 2:
            return None

        v1, v2 = versions[0], versions[1]

        # ìƒ˜í”Œ ìˆ˜ ì²´í¬
        if (self.config['experiment']['current_samples'][v1['version_id']] < self.min_samples or
            self.config['experiment']['current_samples'][v2['version_id']] < self.min_samples):
            return {'status': 'insufficient_samples'}

        # Chi-squared ê²€ì •
        # ê¸ì • í”¼ë“œë°± ë¹„ìœ¨ ë¹„êµ
        p1 = v1['metrics']['positive_rate']
        p2 = v2['metrics']['positive_rate']
        n1 = self.config['experiment']['current_samples'][v1['version_id']]
        n2 = self.config['experiment']['current_samples'][v2['version_id']]

        # 2x2 contingency table
        observed = [
            [int(p1 * n1), int((1-p1) * n1)],
            [int(p2 * n2), int((1-p2) * n2)]
        ]

        chi2, p_value, dof, expected = stats.chi2_contingency(observed)

        if p_value < self.significance_level:
            winner = v1['version_id'] if p1 > p2 else v2['version_id']
            return {
                'status': 'significant',
                'winner': winner,
                'p_value': p_value,
                'recommendation': f'{winner}ë¥¼ ê¸°ë³¸ ë²„ì „ìœ¼ë¡œ ì ìš© ê¶Œì¥'
            }
        else:
            return {
                'status': 'not_significant',
                'p_value': p_value,
                'recommendation': 'ë” ë§ì€ ìƒ˜í”Œ í•„ìš”'
            }

    def apply_winner(self, winner_version_id: str):
        """
        ìš°ìŠ¹ ë²„ì „ì„ ê¸°ë³¸ìœ¼ë¡œ ì ìš©
        """
        for version in self.config['prompt_versions']:
            if version['version_id'] == winner_version_id:
                version['status'] = 'active'
                version['traffic_weight'] = 100
            else:
                version['status'] = 'archived'
                version['traffic_weight'] = 0

        self._save_config()
```

---

## 5. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ìš”êµ¬ì‚¬í•­

### 5.1 í”¼ë“œë°± ë¶„ì„ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š í”¼ë“œë°± ëŒ€ì‹œë³´ë“œ                              [ìµœê·¼ 30ì¼ â–¼]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  ì´ í”¼ë“œë°±   â”‚  â”‚  ê¸ì • ë¹„ìœ¨   â”‚  â”‚  ê°œì„  í•„ìš”   â”‚          â”‚
â”‚  â”‚    1,234    â”‚  â”‚    72.5%    â”‚  â”‚     15ê±´    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                  â”‚
â”‚  [í”¼ë“œë°± íŠ¸ë Œë“œ ê·¸ë˜í”„]                                          â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  ğŸ“‹ ìµœê·¼ ì˜¤ë‹µ ì¼€ì´ìŠ¤                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ì¿¼ë¦¬: "ë°•ë§‰ ì½”íŒ… ì¥ë¹„"                                    â”‚  â”‚
â”‚  â”‚ ì¶”ì²œ: MOCVD-A (0.85)                                     â”‚  â”‚
â”‚  â”‚ ì •ë‹µ: Sputter-B                                          â”‚  â”‚
â”‚  â”‚ ì›ì¸: ë§¤í•‘ ëˆ„ë½ (ë°•ë§‰ ì½”íŒ… â†’ Sputter)                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ë£° ì œì•ˆ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”§ ë£° ê°œì„  ì œì•ˆ                                    [3ê±´ ëŒ€ê¸°]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ’¡ ì œì•ˆ: "ë°•ë§‰ ì½”íŒ…" â†’ ["Sputter", "E-beam"]              â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚ ì‹ ë¢°ë„: 85%  |  ë°œìƒ ê±´ìˆ˜: 15ê±´                          â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚ ìƒ˜í”Œ ì¿¼ë¦¬:                                               â”‚  â”‚
â”‚  â”‚ - "ë°•ë§‰ ì½”íŒ… ì¥ë¹„ ì¶”ì²œ"                                  â”‚  â”‚
â”‚  â”‚ - "ì½”íŒ…ìš© ì¦ì°© ì¥ë¹„"                                     â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚ [âœ… ìŠ¹ì¸]  [âŒ ê±°ë¶€]  [âœï¸ ìˆ˜ì •]                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 A/B í…ŒìŠ¤íŠ¸ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§ª í”„ë¡¬í”„íŠ¸ A/B í…ŒìŠ¤íŠ¸                          [ì§„í–‰ì¤‘: 1ê±´]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ì‹¤í—˜: EXP-001 (2025-12-25 ì‹œì‘)                                â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚           Version A          â”‚       Version B          â”‚    â”‚
â”‚  â”‚         (baseline)           â”‚   (detailed_specs)       â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ íŠ¸ë˜í”½:      50%             â”‚         50%              â”‚    â”‚
â”‚  â”‚ ìƒ˜í”Œ ìˆ˜:     85ê±´            â”‚         82ê±´             â”‚    â”‚
â”‚  â”‚ ê¸ì • ë¹„ìœ¨:   72%             â”‚         78% â¬†ï¸           â”‚    â”‚
â”‚  â”‚ ì„ íƒë¥ :      45%             â”‚         52% â¬†ï¸           â”‚    â”‚
â”‚  â”‚ ì‘ë‹µì‹œê°„:    1.2s            â”‚         1.4s             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  ìƒíƒœ: ìƒ˜í”Œ ìˆ˜ì§‘ ì¤‘ (ìµœì†Œ 100ê±´ í•„ìš”)                            â”‚
â”‚                                                                  â”‚
â”‚  [í…ŒìŠ¤íŠ¸ ì¢…ë£Œ]  [íŠ¸ë˜í”½ ì¡°ì •]                                    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ìŠ¤ì¼€ì¤„ëŸ¬ ì„¤ì •

```python
# ì£¼ê¸°ì  ì‘ì—… ìŠ¤ì¼€ì¤„

IMPROVEMENT_SCHEDULE = {
    "feedback_analysis": {
        "cron": "0 9 * * 1",  # ë§¤ì£¼ ì›”ìš”ì¼ 9ì‹œ
        "task": "analyze_weekly_feedback"
    },
    "rule_suggestion": {
        "cron": "0 10 * * 1",  # ë§¤ì£¼ ì›”ìš”ì¼ 10ì‹œ
        "task": "generate_rule_suggestions"
    },
    "embedding_tuning": {
        "cron": "0 2 1 * *",  # ë§¤ì›” 1ì¼ ìƒˆë²½ 2ì‹œ
        "task": "run_embedding_tuning",
        "condition": "negative_count >= 100"
    },
    "ab_test_check": {
        "cron": "0 */6 * * *",  # 6ì‹œê°„ë§ˆë‹¤
        "task": "check_ab_test_significance"
    }
}
```

---

## 7. êµ¬í˜„ ìš°ì„ ìˆœìœ„

| ë‹¨ê³„ | í•­ëª© | ìš°ì„ ìˆœìœ„ | ì˜ˆìƒ ê¸°ê°„ |
|------|------|---------|----------|
| Phase 1 | í”¼ë“œë°± ìˆ˜ì§‘ API + DB | ë†’ìŒ | - |
| Phase 1 | í”¼ë“œë°± ëŒ€ì‹œë³´ë“œ (ê¸°ë³¸) | ë†’ìŒ | - |
| Phase 2 | ë£° ê°œì„  ì œì•ˆ ì‹œìŠ¤í…œ | ì¤‘ê°„ | - |
| Phase 2 | ê´€ë¦¬ì ìŠ¹ì¸ UI | ì¤‘ê°„ | - |
| Phase 3 | í”„ë¡¬í”„íŠ¸ A/B í…ŒìŠ¤íŠ¸ | ì¤‘ê°„ | - |
| Phase 4 | ì„ë² ë”© ëª¨ë¸ ê°œì„  | ë‚®ìŒ (í–¥í›„) | - |

> **Note**: ì„ë² ë”© ëª¨ë¸ Fine-tuningì€ ì¶©ë¶„í•œ ì˜¤ë‹µ ë°ì´í„° (500ê±´+) ëˆ„ì  ë° ROI ê²€í†  í›„ ì§„í–‰. PoC ë‹¨ê³„ì—ì„œëŠ” **ë£° ê°œì„  + í”„ë¡¬í”„íŠ¸ A/B**ì— ì§‘ì¤‘ ê¶Œì¥.

---

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025-12-30*
