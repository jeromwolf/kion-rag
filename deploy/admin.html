<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´€ë¦¬ì - KION RAG</title>
    <style>
        :root {
            --primary: #1565C0;
            --success: #4CAF50;
            --warning: #FF9800;
            --danger: #F44336;
            --dark: #333;
            --gray: #666;
            --light: #f5f5f5;
            --white: #fff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Pretendard', -apple-system, sans-serif;
            background: var(--light);
            color: var(--dark);
        }

        .header {
            background: var(--white);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 0 20px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-inner {
            max-width: 1200px;
            margin: 0 auto;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--success));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .logo-text {
            font-size: 20px;
            font-weight: 700;
            color: var(--dark);
        }

        .logo-text span { color: var(--primary); }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-links a {
            color: var(--gray);
            text-decoration: none;
            font-size: 14px;
            padding: 8px 16px;
            border-radius: 6px;
        }

        .nav-links a:hover, .nav-links a.active {
            background: var(--light);
            color: var(--primary);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .page-title {
            margin-bottom: 30px;
        }

        .page-title h1 {
            font-size: 28px;
            color: var(--dark);
        }

        .page-title p {
            color: var(--gray);
            margin-top: 8px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .card {
            background: var(--white);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .card h3 {
            font-size: 16px;
            color: var(--dark);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-grid {
            display: grid;
            gap: 12px;
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: var(--light);
            border-radius: 8px;
        }

        .status-label {
            font-size: 14px;
            color: var(--gray);
        }

        .status-value {
            font-size: 14px;
            font-weight: 600;
        }

        .status-value.success { color: var(--success); }
        .status-value.warning { color: var(--warning); }
        .status-value.danger { color: var(--danger); }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover { background: #1255A1; }

        .btn-secondary {
            background: var(--light);
            color: var(--dark);
            border: 1px solid #ddd;
        }

        .btn-secondary:hover { background: #eee; }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover { background: #D32F2F; }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .action-grid {
            display: grid;
            gap: 12px;
        }

        .action-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            background: var(--light);
            border-radius: 8px;
        }

        .action-info h4 {
            font-size: 14px;
            color: var(--dark);
            margin-bottom: 4px;
        }

        .action-info p {
            font-size: 12px;
            color: var(--gray);
        }

        .log-box {
            background: #263238;
            color: #ECEFF1;
            padding: 16px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }

        .log-box .log-entry {
            margin-bottom: 4px;
        }

        .log-box .log-time {
            color: #78909C;
        }

        .log-box .log-success { color: #81C784; }
        .log-box .log-error { color: #EF5350; }
        .log-box .log-info { color: #64B5F6; }

        .stats-number {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary);
        }

        .stats-label {
            font-size: 14px;
            color: var(--gray);
            margin-top: 4px;
        }

        .refresh-time {
            font-size: 12px;
            color: var(--gray);
            text-align: right;
            margin-top: 16px;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-inner">
            <a href="/" class="logo">
                <div class="logo-icon">K</div>
                <div class="logo-text"><span>KION</span> RAG</div>
            </a>
            <nav class="nav-links">
                <a href="/">í™ˆ</a>
                <a href="/architecture.html">ì•„í‚¤í…ì²˜</a>
                <a href="/techstack.html">ê¸°ìˆ ìŠ¤íƒ</a>
                <a href="/data-design.html">ë°ì´í„°ì„¤ê³„</a>
                <a href="/implementation.html">êµ¬í˜„ê°€ì´ë“œ</a>
                <a href="/admin.html" class="active">ê´€ë¦¬ì</a>
                
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="page-title">
            <h1>ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h1>
            <p>ì‹œìŠ¤í…œ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë° ë°ì´í„° ê´€ë¦¬</p>
        </div>

        <div class="grid">
            <!-- ì‹œìŠ¤í…œ ìƒíƒœ -->
            <div class="card">
                <h3>ğŸ“Š ì‹œìŠ¤í…œ ìƒíƒœ</h3>
                <div class="status-grid">
                    <div class="status-item">
                        <span class="status-label">API ì„œë²„</span>
                        <span class="status-value success" id="api-status">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Ollama (LLM)</span>
                        <span class="status-value" id="ollama-status">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">ChromaDB (ë²¡í„°DB)</span>
                        <span class="status-value" id="chroma-status">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">ì¥ë¹„ ë°ì´í„°</span>
                        <span class="status-value" id="equipment-count">-</span>
                    </div>
                </div>
                <p class="refresh-time" id="last-refresh">ë§ˆì§€ë§‰ ê°±ì‹ : -</p>
            </div>

            <!-- ë°ì´í„° ê´€ë¦¬ -->
            <div class="card">
                <h3>ğŸ—„ï¸ ë°ì´í„° ê´€ë¦¬</h3>
                <div class="action-grid">
                    <div class="action-item">
                        <div class="action-info">
                            <h4>ë°ì´í„° ë¦¬ë¡œë“œ</h4>
                            <p>JSON íŒŒì¼ì—ì„œ ì¥ë¹„ ë°ì´í„° ë‹¤ì‹œ ë¡œë“œ</p>
                        </div>
                        <button class="btn btn-primary" id="btn-reload" onclick="reloadData()">
                            ğŸ”„ ë¦¬ë¡œë“œ
                        </button>
                    </div>
                    <div class="action-item">
                        <div class="action-info">
                            <h4>ìºì‹œ ì´ˆê¸°í™”</h4>
                            <p>LLM ì‘ë‹µ ìºì‹œ ì‚­ì œ (TTL 5ë¶„)</p>
                        </div>
                        <button class="btn btn-secondary" id="btn-cache" onclick="clearCache()">
                            ğŸ—‘ï¸ ì´ˆê¸°í™”
                        </button>
                    </div>
                    <div class="action-item">
                        <div class="action-info">
                            <h4>í”„ë¡¬í”„íŠ¸ ë¦¬ë¡œë“œ</h4>
                            <p>ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ íŒŒì¼ ë‹¤ì‹œ ë¡œë“œ</p>
                        </div>
                        <button class="btn btn-secondary" id="btn-prompt" onclick="reloadPrompts()">
                            ğŸ“ ë¦¬ë¡œë“œ
                        </button>
                    </div>
                </div>
            </div>

            <!-- í†µê³„ -->
            <div class="card">
                <h3>ğŸ“ˆ í†µê³„</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; text-align: center;">
                    <div>
                        <div class="stats-number" id="stats-equipment">-</div>
                        <div class="stats-label">ë“±ë¡ ì¥ë¹„</div>
                    </div>
                    <div>
                        <div class="stats-number" id="stats-categories">-</div>
                        <div class="stats-label">ì¹´í…Œê³ ë¦¬</div>
                    </div>
                </div>
            </div>

            <!-- ì‘ì—… ë¡œê·¸ -->
            <div class="card">
                <h3>ğŸ“‹ ì‘ì—… ë¡œê·¸</h3>
                <div class="log-box" id="log-box">
                    <div class="log-entry">
                        <span class="log-time">[ì‹œìŠ¤í…œ]</span>
                        <span class="log-info">ê´€ë¦¬ì í˜ì´ì§€ ë¡œë“œë¨</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- í”„ë¡¬í”„íŠ¸ ê´€ë¦¬ -->
        <div class="grid" style="margin-top: 20px;">
            <div class="card">
                <h3>ğŸ’¬ í”„ë¡¬í”„íŠ¸ ê´€ë¦¬</h3>
                <div class="action-grid">
                    <div class="action-item">
                        <div class="action-info">
                            <h4>ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸</h4>
                            <p>LLM ì—­í•  ì •ì˜, ì¶”ì²œ ê·œì¹™ ì„¤ì •</p>
                        </div>
                        <button class="btn btn-secondary" onclick="editPrompt('system')">
                            âœï¸ í¸ì§‘
                        </button>
                    </div>
                    <div class="action-item">
                        <div class="action-info">
                            <h4>ì¶œë ¥ í¬ë§·íŒ…</h4>
                            <p>JSON/ìì—°ì–´ ì‘ë‹µ í˜•ì‹, í•„ë“œ êµ¬ì„±</p>
                        </div>
                        <button class="btn btn-secondary" onclick="editPrompt('format')">
                            âœï¸ í¸ì§‘
                        </button>
                    </div>
                    <div class="action-item">
                        <div class="action-info">
                            <h4>í”„ë¡¬í”„íŠ¸ A/B í…ŒìŠ¤íŠ¸</h4>
                            <p>ë²„ì „ë³„ ì„±ëŠ¥ ë¹„êµ, ìë™ ì„ íƒ</p>
                        </div>
                        <button class="btn btn-secondary" onclick="manageABTest()">
                            ğŸ§ª ê´€ë¦¬
                        </button>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>ğŸ—„ï¸ ì •ì±…/ë£° ê´€ë¦¬</h3>
                <div class="action-grid">
                    <div class="action-item">
                        <div class="action-info">
                            <h4>ê¸°ê´€ë³„ ìš°ì„ ìˆœìœ„</h4>
                            <p>ì¶”ì²œ ì‹œ ê¸°ê´€ ìš°ì„ ìˆœìœ„ ì„¤ì •</p>
                        </div>
                        <button class="btn btn-secondary" onclick="managePriority()">
                            ğŸ¢ ì„¤ì •
                        </button>
                    </div>
                    <div class="action-item">
                        <div class="action-info">
                            <h4>ê³µì •â†”ì¥ë¹„ ë§¤í•‘</h4>
                            <p>í‚¤ì›Œë“œ-ì¹´í…Œê³ ë¦¬ ë§¤í•‘ ê´€ë¦¬</p>
                        </div>
                        <button class="btn btn-secondary" onclick="manageMapping()">
                            ğŸ”— ê´€ë¦¬
                        </button>
                    </div>
                    <div class="action-item">
                        <div class="action-info">
                            <h4>ì •ì±… ì„¤ì •</h4>
                            <p>ì ê²€ ì œì™¸, ì˜ˆì•½ í‘œì‹œ ë“± ON/OFF</p>
                        </div>
                        <button class="btn btn-secondary" onclick="managePolicy()">
                            âš™ï¸ ì„¤ì •
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- í”¼ë“œë°± & ë¡œê·¸ -->
        <div class="grid" style="margin-top: 20px;">
            <div class="card">
                <h3>ğŸ‘ğŸ‘ ì‚¬ìš©ì í”¼ë“œë°±</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; text-align: center; margin-bottom: 16px;">
                    <div style="background: #E8F5E9; padding: 16px; border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: 700; color: #4CAF50;">-</div>
                        <div style="font-size: 12px; color: #666;">ê¸ì • í”¼ë“œë°±</div>
                    </div>
                    <div style="background: #FFEBEE; padding: 16px; border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: 700; color: #F44336;">-</div>
                        <div style="font-size: 12px; color: #666;">ë¶€ì • í”¼ë“œë°±</div>
                    </div>
                    <div style="background: #E3F2FD; padding: 16px; border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: 700; color: #1565C0;">-%</div>
                        <div style="font-size: 12px; color: #666;">ì •í™•ë„</div>
                    </div>
                </div>
                <button class="btn btn-secondary" style="width: 100%;" onclick="viewFeedback()">
                    ğŸ“Š í”¼ë“œë°± ìƒì„¸ ë³´ê¸°
                </button>
            </div>

            <div class="card">
                <h3>ğŸ“ˆ ì§ˆì˜ ë¡œê·¸ ë¶„ì„</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                    <div style="background: var(--light); padding: 12px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 20px; font-weight: 700; color: var(--primary);">-</div>
                        <div style="font-size: 11px; color: #666;">ì˜¤ëŠ˜ ì§ˆì˜ ìˆ˜</div>
                    </div>
                    <div style="background: var(--light); padding: 12px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 20px; font-weight: 700; color: var(--primary);">-ms</div>
                        <div style="font-size: 11px; color: #666;">í‰ê·  ì‘ë‹µì‹œê°„</div>
                    </div>
                </div>
                <button class="btn btn-secondary" style="width: 100%;" onclick="viewLogs()">
                    ğŸ“‹ ë¡œê·¸ ìƒì„¸ ë³´ê¸°
                </button>
            </div>
        </div>

        <!-- í–¥í›„ ê¸°ëŠ¥ -->
        <div class="card" style="margin-top: 20px;">
            <h3>ğŸš€ í–¥í›„ ì¶”ê°€ ì˜ˆì • ê¸°ëŠ¥</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;">
                <span style="background: #E3F2FD; color: #1565C0; padding: 8px 16px; border-radius: 20px; font-size: 13px;">MS-SQL ë™ê¸°í™”</span>
                <span style="background: #E3F2FD; color: #1565C0; padding: 8px 16px; border-radius: 20px; font-size: 13px;">ì¥ë¹„ ë°ì´í„° í¸ì§‘</span>
                <span style="background: #E3F2FD; color: #1565C0; padding: 8px 16px; border-radius: 20px; font-size: 13px;">ì„ë² ë”© ì¬í•™ìŠµ</span>
                <span style="background: #E3F2FD; color: #1565C0; padding: 8px 16px; border-radius: 20px; font-size: 13px;">ì•Œë¦¼ ì„¤ì •</span>
            </div>
        </div>
    </div>

    <script>
        // ì‹œìŠ¤í…œ ìƒíƒœ ì²´í¬
        async function checkHealth() {
            try {
                const res = await fetch('/health');
                const data = await res.json();

                document.getElementById('api-status').textContent = 'ì •ìƒ';
                document.getElementById('api-status').className = 'status-value success';

                document.getElementById('ollama-status').textContent =
                    data.ollama_status === 'connected' ? 'ì—°ê²°ë¨' : 'ì—°ê²° ì•ˆë¨';
                document.getElementById('ollama-status').className =
                    'status-value ' + (data.ollama_status === 'connected' ? 'success' : 'danger');

                document.getElementById('chroma-status').textContent =
                    data.chroma_status === 'connected' ? 'ì—°ê²°ë¨' : 'ì—°ê²° ì•ˆë¨';
                document.getElementById('chroma-status').className =
                    'status-value ' + (data.chroma_status === 'connected' ? 'success' : 'danger');

                document.getElementById('equipment-count').textContent = data.equipment_count + 'ëŒ€';
                document.getElementById('equipment-count').className = 'status-value success';

                document.getElementById('stats-equipment').textContent = data.equipment_count;

                document.getElementById('last-refresh').textContent =
                    'ë§ˆì§€ë§‰ ê°±ì‹ : ' + new Date().toLocaleTimeString();

            } catch (e) {
                document.getElementById('api-status').textContent = 'ì˜¤ë¥˜';
                document.getElementById('api-status').className = 'status-value danger';
                addLog('API ì—°ê²° ì‹¤íŒ¨: ' + e.message, 'error');
            }
        }

        // ë°ì´í„° ë¦¬ë¡œë“œ
        async function reloadData() {
            const btn = document.getElementById('btn-reload');
            btn.disabled = true;
            btn.textContent = 'ì²˜ë¦¬ ì¤‘...';

            try {
                const res = await fetch('/equipment/reload', { method: 'POST' });
                const data = await res.json();
                addLog(`ë°ì´í„° ë¦¬ë¡œë“œ ì™„ë£Œ: ${data.count}ê°œ ì¥ë¹„`, 'success');
                checkHealth();
            } catch (e) {
                addLog('ë°ì´í„° ë¦¬ë¡œë“œ ì‹¤íŒ¨: ' + e.message, 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'ğŸ”„ ë¦¬ë¡œë“œ';
            }
        }

        // ìºì‹œ ì´ˆê¸°í™”
        async function clearCache() {
            const btn = document.getElementById('btn-cache');
            btn.disabled = true;

            try {
                const res = await fetch('/cache/clear', { method: 'POST' });
                if (res.ok) {
                    addLog('ìºì‹œ ì´ˆê¸°í™” ì™„ë£Œ', 'success');
                } else {
                    addLog('ìºì‹œ ì´ˆê¸°í™” API ë¯¸êµ¬í˜„', 'info');
                }
            } catch (e) {
                addLog('ìºì‹œ ì´ˆê¸°í™”: API ë¯¸êµ¬í˜„ (í–¥í›„ ì¶”ê°€)', 'info');
            } finally {
                btn.disabled = false;
            }
        }

        // í”„ë¡¬í”„íŠ¸ ë¦¬ë¡œë“œ
        async function reloadPrompts() {
            const btn = document.getElementById('btn-prompt');
            btn.disabled = true;

            try {
                const res = await fetch('/prompts/reload', { method: 'POST' });
                if (res.ok) {
                    addLog('í”„ë¡¬í”„íŠ¸ ë¦¬ë¡œë“œ ì™„ë£Œ', 'success');
                } else {
                    addLog('í”„ë¡¬í”„íŠ¸ ë¦¬ë¡œë“œ API ë¯¸êµ¬í˜„', 'info');
                }
            } catch (e) {
                addLog('í”„ë¡¬í”„íŠ¸ ë¦¬ë¡œë“œ: API ë¯¸êµ¬í˜„ (í–¥í›„ ì¶”ê°€)', 'info');
            } finally {
                btn.disabled = false;
            }
        }

        // ë¡œê·¸ ì¶”ê°€
        function addLog(message, type = 'info') {
            const logBox = document.getElementById('log-box');
            const time = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.innerHTML = `<span class="log-time">[${time}]</span> <span class="log-${type}">${message}</span>`;
            logBox.insertBefore(entry, logBox.firstChild);
        }

        // í”„ë¡¬í”„íŠ¸ í¸ì§‘
        function editPrompt(type) {
            const messages = {
                'system': 'ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ í¸ì§‘ê¸° (í–¥í›„ êµ¬í˜„ ì˜ˆì •)\n\n- LLM ì—­í•  ì •ì˜\n- ì¶”ì²œ ê·œì¹™ ì„¤ì •\n- ì–¸ì–´ ê·œì¹™ ì„¤ì •',
                'format': 'ì¶œë ¥ í¬ë§·íŒ… í¸ì§‘ê¸° (í–¥í›„ êµ¬í˜„ ì˜ˆì •)\n\n- JSON í•„ë“œ êµ¬ì„±\n- ìì—°ì–´ ì‘ë‹µ í…œí”Œë¦¿\n- ì¥ë¹„ í‘œì‹œ í˜•ì‹'
            };
            alert(messages[type]);
            addLog(`${type} í”„ë¡¬í”„íŠ¸ í¸ì§‘ ì‹œë„`, 'info');
        }

        // A/B í…ŒìŠ¤íŠ¸ ê´€ë¦¬
        function manageABTest() {
            alert('í”„ë¡¬í”„íŠ¸ A/B í…ŒìŠ¤íŠ¸ ê´€ë¦¬ (í–¥í›„ êµ¬í˜„ ì˜ˆì •)\n\n- ë²„ì „ë³„ ì„±ëŠ¥ ë¹„êµ\n- íŠ¸ë˜í”½ ë¶„ë°° ì„¤ì •\n- ìš°ìŠ¹ ë²„ì „ ìë™ ì ìš©');
            addLog('A/B í…ŒìŠ¤íŠ¸ ê´€ë¦¬ ì ‘ê·¼', 'info');
        }

        // ê¸°ê´€ ìš°ì„ ìˆœìœ„ ê´€ë¦¬
        function managePriority() {
            alert('ê¸°ê´€ë³„ ìš°ì„ ìˆœìœ„ ì„¤ì • (í–¥í›„ êµ¬í˜„ ì˜ˆì •)\n\në‚˜ë…¸ì¢…í•©ê¸°ìˆ ì›: 1ìˆœìœ„\ní•œêµ­ë‚˜ë…¸ê¸°ìˆ ì›: 2ìˆœìœ„\n...');
            addLog('ê¸°ê´€ ìš°ì„ ìˆœìœ„ ê´€ë¦¬ ì ‘ê·¼', 'info');
        }

        // ê³µì •-ì¥ë¹„ ë§¤í•‘ ê´€ë¦¬
        function manageMapping() {
            alert('ê³µì •â†”ì¥ë¹„ ë§¤í•‘ ê´€ë¦¬ (í–¥í›„ êµ¬í˜„ ì˜ˆì •)\n\nì—í”¼ ì„±ì¥ â†’ MOCVD, MBE\në°•ë§‰ ì¦ì°© â†’ Sputter, PECVD, ALD\nì—´ì²˜ë¦¬ â†’ RTA, Furnace');
            addLog('ê³µì •-ì¥ë¹„ ë§¤í•‘ ê´€ë¦¬ ì ‘ê·¼', 'info');
        }

        // ì •ì±… ì„¤ì •
        function managePolicy() {
            alert('ì •ì±… ì„¤ì • (í–¥í›„ êµ¬í˜„ ì˜ˆì •)\n\nâ˜‘ maintenance_exclude: ON\nâ˜‘ reservation_check: ON\nâ˜ cost_display: OFF\nâ˜‘ external_visible: ON');
            addLog('ì •ì±… ì„¤ì • ê´€ë¦¬ ì ‘ê·¼', 'info');
        }

        // í”¼ë“œë°± ë³´ê¸°
        function viewFeedback() {
            alert('ì‚¬ìš©ì í”¼ë“œë°± ìƒì„¸ (í–¥í›„ êµ¬í˜„ ì˜ˆì •)\n\ní”¼ë“œë°± ëª©ë¡, íŒ¨í„´ ë¶„ì„, ê°œì„  ì œì•ˆ');
            addLog('í”¼ë“œë°± ìƒì„¸ ì¡°íšŒ', 'info');
        }

        // ë¡œê·¸ ë³´ê¸°
        function viewLogs() {
            alert('ì§ˆì˜ ë¡œê·¸ ìƒì„¸ (í–¥í›„ êµ¬í˜„ ì˜ˆì •)\n\nì¼ë³„ ì§ˆì˜ ìˆ˜, ì¸ê¸° í‚¤ì›Œë“œ, ì‘ë‹µì‹œê°„ ì¶”ì´');
            addLog('ë¡œê·¸ ìƒì„¸ ì¡°íšŒ', 'info');
        }

        // ì´ˆê¸°í™”
        checkHealth();

        // ì¹´í…Œê³ ë¦¬ ìˆ˜ ì„ì‹œ ì„¤ì • (í–¥í›„ API ì—°ë™)
        document.getElementById('stats-categories').textContent = '12';

        // 30ì´ˆë§ˆë‹¤ ìë™ ê°±ì‹ 
        setInterval(checkHealth, 30000);
    </script>

    <footer style="text-align: center; padding: 40px; color: var(--gray); font-size: 14px;" class="no-print">
        <button onclick="savePDF()" style="background: var(--primary); color: white; border: none; padding: 12px 24px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; margin-bottom: 20px; display: inline-flex; align-items: center; gap: 8px;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
            PDF ì €ì¥
        </button>
        <p>KION RAG PoC - AI ë°˜ë„ì²´ ì¥ë¹„ ì¶”ì²œ ì‹œìŠ¤í…œ</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script>
        function savePDF() {
            const element = document.querySelector('.container');
            const opt = {
                margin: 10,
                filename: 'KION_RAG_ê´€ë¦¬ì.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2, useCORS: true },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
                pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
            };
            html2pdf().set(opt).from(element).save();
        }
    </script>

    <style>
        @media print {
            .header, .no-print { display: none !important; }
            .container { padding-top: 0 !important; }
            body { background: white; }
        }
    </style>
</body>
</html>
